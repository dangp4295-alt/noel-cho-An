// ==========================================
// 1. RESOURCES CONFIG (FIX LOAD PHOTOS)
// ==========================================
const MUSIC_URL = "./audio.mp3";
let bgMusic = new Audio(MUSIC_URL);
bgMusic.loop = true;
bgMusic.volume = 1.0;

// Texture loader (Three.js)
const loader = new THREE.TextureLoader();

// 5 ảnh CỦA BẠN (ưu tiên)
const photoFiles = [
  "./z7338057439038_b2717f4b28db655f5824d82109b8d078.jpeg",
  "./z7338057440067_431d724154c13e6d414d0a9a00b1b795.jpeg",
  "./z7338057440741_6182f32707de8e3b38cd218afc565fbe.jpeg",
  "./z7338057440772_6f2e70cfb641d443dfa4c4346601ad42.jpeg",
  "./z7338057441098_5808c5268aee249ca3fad176efd24231-2.jpeg"
];

// Ảnh MẪU (chỉ dùng nếu ảnh của bạn lỗi)
const fallbackFiles = [
  "./image1.jpeg",
  "./image2.jpeg",
  "./image3.jpeg",
  "./image4.jpeg",
  "./image5.jpeg"
];

// Mảng texture cho 5 ảnh
const photoTextures = new Array(5);

// Load ảnh: nếu ảnh của bạn fail thì fallback về ảnh mẫu tương ứng
photoFiles.forEach((url, i) => {
  loader.load(
    url,
    (tex) => {
      photoTextures[i] = tex;
      console.log("Loaded OK:", url);
    },
    undefined,
    (err) => {
      console.log("Load FAILED:", url, err);

      loader.load(
        fallbackFiles[i],
        (tex) => {
          photoTextures[i] = tex;
          console.log("Fallback OK:", fallbackFiles[i]);
        },
        undefined,
        (err2) => {
          console.log("Fallback FAILED:", fallbackFiles[i], err2);
        }
      );
    }
  );
});
